{"componentChunkName":"component---src-templates-blog-post-js","path":"/clean-code/","result":{"data":{"site":{"siteMetadata":{"title":"@dtylam"}},"markdownRemark":{"id":"db5e30c1-01a9-588b-841f-694cb442dacd","excerpt":"Writing good code sounds difficult. What is objectively good? Do you have to study a lot of theories to get there? Where do you go learn this stuff? Go no…","html":"<p>Writing good code sounds difficult. What is objectively good? Do you have to study a lot of theories to get there? Where do you go learn this stuff? Go no further to get the three minute version of it here:</p>\n<h2>Clean Code</h2>\n<p>Out of the software engineering industry came a shining beacon that is <a href=\"http://cleancoder.com/products\">Uncle Bob’s school of thought</a>, which has dominated the industry just like the agile manifesto. Detailed in his 2008 book Clean Code is his widely adopted idea for what is good code:</p>\n<blockquote>\n<p>Code is read more than it is written or changed. So code that is easy to read makes the lives of everyone easier. If you write clean code, it should read like prose even to the worst programmer.</p>\n</blockquote>\n<p>Here are the three things from his book that anyone, even the freshest programmer, can do to vastly improve their code from day one, absolutely no extra knowledge required:</p>\n<h2>1. Use meaningful names</h2>\n<p>That is meaningful names for everything from variables, methods, to classes. What does that mean? It means instead of naming things like:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">function fx (string text, int number){\n    ds.Save(text)\n    logFunc(number)\n}</code></pre></div>\n<p>which provided almost no context whatsoever, type what you really mean in the real world:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">function saveStatus (string statusText, int actionCode){\n     dataStore.Save(statusText)\n     logActionType(actionCode)\n}</code></pre></div>\n<p>Agree as a team what are some of the most common names and concepts you will be using. It should use simple language unless you are working with industry terminologies, or following a well known design pattern.</p>\n<p>Better yet, agree with your client/ business, and do some <a href=\"https://en.wikipedia.org/wiki/Domain-driven_design\">domain driven design</a>. Using the same lingo as the business means even if your team and wiki dies in fire and blood, new developers will still be able to learn it.</p>\n<h2>2. Avoid comments like the plague</h2>\n<p>If you have done the above, your code should already be a lot more understandable to any fresh pairs of eyes. That makes a good majority of your comments redundant.</p>\n<p>Comments migrate: if you have a lot of them, you are most likely just repeating yourself, and you will end up copying, pasting, and forgetting to change them, eg:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// Constant string for the name of the url, it cannot be changed\nconst string url = \"URL\"\n\n// Constant string for the name of the url, it cannot be changed\nconst string path = \"PATH\"</code></pre></div>\n<p>Comments rot, because if they are not maintained, the program still runs:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// Next we calculate a percentage value of x times y (no longer true)\n// x means number of passengers, y means number of vehicles\nint i = i / 2 * v * 100</code></pre></div>\n<p>Comments should not replace laziness, or unfinished work, eg:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// TODO: please give this some tender loving care, it's broken (but is somehow pushed and merged anyway)\n// T1 of tp is max, T2 of tp is min (omg please don't use tuples/ sets, just make it a class, no one knows what you mean)\nSet tp (int a, int b) = (18, 7)</code></pre></div>\n<p>Some comments which offer critical clarifications cannot be avoided. Always remember that comments are only effective and attention drawing when used sparingly.</p>\n<p>Uncle Bob said:</p>\n<blockquote>\n<p>Every comment represents a failure to make the code self explanatory.</p>\n</blockquote>\n<p>Going full purist <a href=\"https://en.wikipedia.org/wiki/Self-documenting_code\">self-documenting code</a> may not be a good idea, if what you are doing is truly complicated and you are beginning to end up with super long names for things. But it is what you should aim to do 90% of the time.</p>\n<h2>3. Extract until you drop</h2>\n<p>Extracting functions/ methods is a very good way to refactor your code. This provides two main benefits: it makes your code easy to skim; and it shows you what belongs and what doesn’t belong in a class.</p>\n<p>Just like a news article, your code/ files/ classes should read from macroscopic to microscopic. In journalism, this is known as the <a href=\"https://en.wikipedia.org/wiki/Inverted_pyramid_(journalism)\">inverted pyramid</a>. Your code should take a reader through the big overview/ important information first, and everything should be extracted out, eg:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">public void GenerateStatusView (int text, string color){\n    ValidateText(text);\n    ValidateColorString(color);\n    return StatusViewModel(ProcessText(text), ConvertColor(color))\n}\nprivate void ValidateText(...){...}\nprivate void ValidateColorString(...){...}\nprivate string ProcessText(...){...}\nprivate Color ConvertColor(...){...}</code></pre></div>\n<p>Instead of having all the small bits of logic jumbled up together in one very very fat function/ method, the reader can pick and choose which subsection they want to read and which to skip. Maybe there is a bug with the color conversion, they can jump to that because of your extractions and good signposting, instead of trying to read 20 lines of other minute details about how the text is validated.</p>\n<p>If you extract further, you may discover bits of logic that are duplicated, bits that don’t belong in the class, and could be taken out into another/ a new class. For example, maybe the logic of <code class=\"language-text\">ValidateColor()</code> is used across many different classes, you might want to start a new static class for that.</p>\n<p>Uncle Bob encourages extracting until you can’t anymore: that every function/ method only does one thing. <a href=\"https://sites.google.com/site/unclebobconsultingllc/one-thing-extract-till-you-drop\">What is one thing? Here’s his explanation.</a> I personally think his version could be a bit extreme sometimes, but I definitely would not have a function/ method that goes longer than half the height of your IDE on a small laptop screen.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/gatsby-main/static/e2d53d8496864b495fbbd6b6d335c620/a2d8a/clean-code.webp\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRlgAAABXRUJQVlA4IEwAAABwAwCdASoUAA8APtFUo0uoJKMhsAgBABoJaQAAXK+H5Y8rpqAA/vOKT4LCQIGIPT8VJVoNUoZtboHXnBeE/086xGLHLQFH1ngQAAAA'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Quote from Michael Feathers, &quot;Clean Code always looks like it was written by someone who cares.&quot;\"\n        title=\"Quote from Michael Feathers, &quot;Clean Code always looks like it was written by someone who cares.&quot;\"\n        src=\"/gatsby-main/static/e2d53d8496864b495fbbd6b6d335c620/5ca24/clean-code.webp\"\n        srcset=\"/gatsby-main/static/e2d53d8496864b495fbbd6b6d335c620/cbe2e/clean-code.webp 148w,\n/gatsby-main/static/e2d53d8496864b495fbbd6b6d335c620/3084c/clean-code.webp 295w,\n/gatsby-main/static/e2d53d8496864b495fbbd6b6d335c620/5ca24/clean-code.webp 590w,\n/gatsby-main/static/e2d53d8496864b495fbbd6b6d335c620/a2d8a/clean-code.webp 638w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Congratulations if you are already doing, or will start doing the steps above! You have begun a Clean Coder journey that will allow you to frown upon other beginners’ code and argue about best practices! Read more about Uncle Bob’s school of thought, and have the conversation with your team, it shows that you care.</p>","frontmatter":{"title":"Three Extremely Easy Things to Do to Code More Good","date":"August 19, 2019","description":"Writing good code sounds difficult. What is objectively good? Do you have to study a lot of theories to get there? Where do you go learn this stuff? Go no further to get the three minute version of it here!"}}},"pageContext":{"slug":"/clean-code/","previous":null,"next":{"fields":{"slug":"/android-roadmap/"},"frontmatter":{"title":"How to turn a small project into a mature app: an Android roadmap"}}}},"staticQueryHashes":["1007460132","2841359383","962942278"]}